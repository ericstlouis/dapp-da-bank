{"ast":null,"code":"import _regeneratorRuntime from\"C:/web_development/da-bank/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/web_development/da-bank/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/web_development/da-bank/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import'./App.css';import Web3Modal from'web3modal';import{ethers}from'ethers';import{useState,useEffect}from'react';import{bankContract,tokenContract}from'./contract-address.json';import Bank from'./artifacts/contracts/Bank.sol/Bank.json';import Token from'./artifacts/contracts/Token.sol/Token.json';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){//States\nvar _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),depositAmount=_useState2[0],setDepositAmount=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),withdrawAmount=_useState4[0],setWithdrawAmount=_useState4[1];var _useState5=useState(\"connect to wallet\"),_useState6=_slicedToArray(_useState5,2),WalletConnected=_useState6[0],setWalletConnect=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),vault=_useState8[0],setVault=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),userAssets=_useState10[0],setUserAssets=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),yieldToken=_useState12[0],setYieldTokens=_useState12[1];useEffect(function(){connectToWallet();},[]);//Connect to wallet\nfunction connectToWallet(){return _connectToWallet.apply(this,arguments);}function _connectToWallet(){_connectToWallet=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var web3Modal,connection,provider,signer,bankInfo,tokenInfo,bankAssets,userAssets,totalTokens;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:web3Modal=new Web3Modal();_context.next=3;return web3Modal.connect();case 3:connection=_context.sent;provider=new ethers.providers.Web3Provider(window.ethereum);signer=provider.getSigner();bankInfo=new ethers.Contract(bankContract,Bank.abi,provider);tokenInfo=new ethers.Contract(tokenContract,Token.abi,provider);_context.t0=ethers.utils;_context.next=11;return bankInfo.totalAssets();case 11:_context.t1=_context.sent;bankAssets=_context.t0.formatEther.call(_context.t0,_context.t1,'ether');_context.t2=ethers.utils;_context.t3=bankInfo;_context.next=17;return signer.getAddress();case 17:_context.t4=_context.sent;_context.next=20;return _context.t3.accounts.call(_context.t3,_context.t4);case 20:_context.t5=_context.sent;userAssets=_context.t2.formatEther.call(_context.t2,_context.t5);_context.t6=ethers.utils;_context.t7=tokenInfo;_context.next=26;return signer.getAddress();case 26:_context.t8=_context.sent;_context.next=29;return _context.t7.balanceOf.call(_context.t7,_context.t8);case 29:_context.t9=_context.sent;totalTokens=_context.t6.formatEther.call(_context.t6,_context.t9);setVault(bankAssets);setUserAssets(userAssets);setYieldTokens(totalTokens);setWalletConnect(connection.selectedAddress);console.log(connection.selectedAddress);console.log(bankAssets);console.log(userAssets);console.log(totalTokens);case 39:case\"end\":return _context.stop();}}},_callee);}));return _connectToWallet.apply(this,arguments);}function deposit(_x){return _deposit.apply(this,arguments);}function _deposit(){_deposit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event){var web3Modal,connection,provider,signer,bankInfo,tokenInfo,tx,bankAssets,userAssets,totalTokens;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:event.preventDefault();web3Modal=new Web3Modal();_context2.next=4;return web3Modal.connect();case 4:connection=_context2.sent;provider=new ethers.providers.Web3Provider(window.ethereum);signer=provider.getSigner();bankInfo=new ethers.Contract(bankContract,Bank.abi,signer);tokenInfo=new ethers.Contract(tokenContract,Token.abi,signer);_context2.next=11;return bankInfo.deposit({value:ethers.utils.parseEther(depositAmount.toString())});case 11:tx=_context2.sent;_context2.next=14;return tx.wait();case 14:_context2.t0=ethers.utils;_context2.next=17;return bankInfo.totalAssets();case 17:_context2.t1=_context2.sent;bankAssets=_context2.t0.formatEther.call(_context2.t0,_context2.t1,'ether');_context2.t2=ethers.utils;_context2.t3=bankInfo;_context2.next=23;return signer.getAddress();case 23:_context2.t4=_context2.sent;_context2.next=26;return _context2.t3.accounts.call(_context2.t3,_context2.t4);case 26:_context2.t5=_context2.sent;userAssets=_context2.t2.formatEther.call(_context2.t2,_context2.t5);_context2.t6=ethers.utils;_context2.t7=tokenInfo;_context2.next=32;return signer.getAddress();case 32:_context2.t8=_context2.sent;_context2.next=35;return _context2.t7.balanceOf.call(_context2.t7,_context2.t8);case 35:_context2.t9=_context2.sent;totalTokens=_context2.t6.formatEther.call(_context2.t6,_context2.t9);setVault(bankAssets);setUserAssets(userAssets);setYieldTokens(totalTokens);case 40:case\"end\":return _context2.stop();}}},_callee2);}));return _deposit.apply(this,arguments);}function withdraw(_x2){return _withdraw.apply(this,arguments);}function _withdraw(){_withdraw=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(event){var web3Modal,connection,provider,signer,bankInfo,tokenInfo,tx,bankAssets,userAssets,totalTokens;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:event.preventDefault();web3Modal=new Web3Modal();_context3.next=4;return web3Modal.connect();case 4:connection=_context3.sent;provider=new ethers.providers.Web3Provider(window.ethereum);signer=provider.getSigner();bankInfo=new ethers.Contract(bankContract,Bank.abi,signer);tokenInfo=new ethers.Contract(tokenContract,Token.abi,signer);_context3.next=11;return bankInfo.withdraw(ethers.utils.parseEther(withdrawAmount.toString()),tokenContract);case 11:tx=_context3.sent;_context3.next=14;return tx.wait();case 14:_context3.t0=ethers.utils;_context3.next=17;return bankInfo.totalAssets();case 17:_context3.t1=_context3.sent;bankAssets=_context3.t0.formatEther.call(_context3.t0,_context3.t1,'ether');_context3.t2=ethers.utils;_context3.t3=bankInfo;_context3.next=23;return signer.getAddress();case 23:_context3.t4=_context3.sent;_context3.next=26;return _context3.t3.accounts.call(_context3.t3,_context3.t4);case 26:_context3.t5=_context3.sent;userAssets=_context3.t2.formatEther.call(_context3.t2,_context3.t5);_context3.t6=ethers.utils;_context3.t7=tokenInfo;_context3.next=32;return signer.getAddress();case 32:_context3.t8=_context3.sent;_context3.next=35;return _context3.t7.balanceOf.call(_context3.t7,_context3.t8);case 35:_context3.t9=_context3.sent;totalTokens=_context3.t6.formatEther.call(_context3.t6,_context3.t9);setVault(bankAssets);setUserAssets(userAssets);setYieldTokens(totalTokens);case 40:case\"end\":return _context3.stop();}}},_callee3);}));return _withdraw.apply(this,arguments);}return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-screen\",children:/*#__PURE__*/_jsxs(\"header\",{className:\"\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl\\ttext-center\\t\",children:\"DA BANK\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl text-center mb-2 \",children:\"A decentralized bank\"}),/*#__PURE__*/_jsx(\"button\",{className:\"text-2xl mb-5 \",onClick:function onClick(){return connectToWallet();},children:WalletConnected}),/*#__PURE__*/_jsxs(\"p\",{className:\"border-black border-solid\\trounded-sm border-2 text-3xl\\t\",children:[\" Bank vault: \",vault,\" \"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"border-black border-solid rounded-sm border-2\\tmy-5 text-3xl\\t\",children:[\" your Amount: \",userAssets,\" \"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"border-black border-solid rounded-sm border-2 mb-1\\ttext-3xl\\t\",children:[\" Da tokens(yieldToken): \",yieldToken,\" \"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-5 \",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:deposit,children:[/*#__PURE__*/_jsxs(\"label\",{className:\"text-3xl\",children:[\"Deposit:\",/*#__PURE__*/_jsx(\"input\",{className:\"text-center\",type:\"number\",name:\"depositAmount\",value:depositAmount,onChange:function onChange(e){return setDepositAmount(e.target.value);}})]}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Submit\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:withdraw,children:[/*#__PURE__*/_jsxs(\"label\",{className:\"text-3xl\",children:[\"Withdrawal:\",/*#__PURE__*/_jsx(\"input\",{className:\"text-center\",type:\"number\",name:\"withdrawalAmount\",value:withdrawAmount,onChange:function onChange(e){return setWithdrawAmount(e.target.value);}})]}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Submit\"})]})]})]})});}export default App;","map":{"version":3,"sources":["C:/web_development/da-bank/src/App.js"],"names":["Web3Modal","ethers","useState","useEffect","bankContract","tokenContract","Bank","Token","App","depositAmount","setDepositAmount","withdrawAmount","setWithdrawAmount","WalletConnected","setWalletConnect","vault","setVault","userAssets","setUserAssets","yieldToken","setYieldTokens","connectToWallet","web3Modal","connect","connection","provider","providers","Web3Provider","window","ethereum","signer","getSigner","bankInfo","Contract","abi","tokenInfo","utils","totalAssets","bankAssets","formatEther","getAddress","accounts","balanceOf","totalTokens","selectedAddress","console","log","deposit","event","preventDefault","value","parseEther","toString","tx","wait","withdraw","e","target"],"mappings":"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","sourcesContent":["import './App.css';\nimport Web3Modal from 'web3modal';\nimport { ethers } from 'ethers';\nimport { useState, useEffect } from 'react';\nimport {bankContract, tokenContract} from './contract-address.json';\nimport Bank from './artifacts/contracts/Bank.sol/Bank.json';\nimport Token from './artifacts/contracts/Token.sol/Token.json';\n\n\nfunction App() {\n  //States\n  const [depositAmount, setDepositAmount] = useState(\"\")\n  const [withdrawAmount, setWithdrawAmount] = useState(\"\");\n  const [WalletConnected, setWalletConnect] = useState(\"connect to wallet\");\n  const [vault , setVault] = useState();\n  const [userAssets, setUserAssets] = useState();\n  const [yieldToken, setYieldTokens] = useState();\n  useEffect(() => {\n    connectToWallet()\n  }, [])\n\n\n  //Connect to wallet\n  async function connectToWallet() {\n    const web3Modal = new Web3Modal();\n    const connection = await web3Modal.connect();\n    const provider = new ethers.providers.Web3Provider(window.ethereum);\n    const signer = provider.getSigner()\n    const bankInfo = new ethers.Contract(bankContract, Bank.abi, provider);\n    const tokenInfo = new ethers.Contract(tokenContract, Token.abi, provider);\n    const bankAssets = ethers.utils.formatEther(await bankInfo.totalAssets(), 'ether');\n    const userAssets = ethers.utils.formatEther(await bankInfo.accounts(await signer.getAddress()))\n    const totalTokens = ethers.utils.formatEther(await tokenInfo.balanceOf(await signer.getAddress()))\n    setVault(bankAssets);\n    setUserAssets(userAssets);\n    setYieldTokens(totalTokens);\n    setWalletConnect(connection.selectedAddress);\n\n    console.log(connection.selectedAddress);\n    console.log(bankAssets);\n    console.log(userAssets);\n    console.log(totalTokens);\n  }\n\n  async function deposit(event) {\n    event.preventDefault();\n    const web3Modal = new Web3Modal();\n    const connection = await web3Modal.connect();\n    const provider = new ethers.providers.Web3Provider(window.ethereum);\n    const signer = provider.getSigner()\n    const bankInfo = new ethers.Contract(bankContract, Bank.abi, signer);\n    const tokenInfo = new ethers.Contract(tokenContract, Token.abi, signer);\n    const tx = await bankInfo.deposit(\n      {value: ethers.utils.parseEther(depositAmount.toString())});\n    await tx.wait();\n    const bankAssets = ethers.utils.formatEther(await bankInfo.totalAssets(), 'ether');\n    const userAssets = ethers.utils.formatEther(await bankInfo.accounts(await signer.getAddress()))\n    const totalTokens = ethers.utils.formatEther(await tokenInfo.balanceOf(await signer.getAddress()))\n    setVault(bankAssets);\n    setUserAssets(userAssets);\n    setYieldTokens(totalTokens);\n  }\n\n  async function withdraw(event) {\n    event.preventDefault();\n    const web3Modal = new Web3Modal();\n    const connection = await web3Modal.connect();\n    const provider = new ethers.providers.Web3Provider(window.ethereum);\n    const signer = provider.getSigner();\n    const bankInfo = new ethers.Contract(bankContract, Bank.abi, signer);\n    const tokenInfo = new ethers.Contract(tokenContract, Token.abi, signer);\n    const tx = await bankInfo.withdraw( \n     ethers.utils.parseEther(withdrawAmount.toString()),\n     tokenContract\n     );\n     await tx.wait();\n     const bankAssets = ethers.utils.formatEther(await bankInfo.totalAssets(), 'ether');\n    const userAssets = ethers.utils.formatEther(await bankInfo.accounts(await signer.getAddress()))\n    const totalTokens = ethers.utils.formatEther(await tokenInfo.balanceOf(await signer.getAddress()))\n     setVault(bankAssets);\n     setUserAssets(userAssets);\n     setYieldTokens(totalTokens);\n  }\n\n  return (\n    <div className=\"flex items-center justify-center h-screen\">\n      <header className=\"\">\n        <h1 className=\"text-3xl\ttext-center\t\">DA BANK</h1>\n        <p className=\"text-3xl text-center mb-2 \">A decentralized bank</p>\n        <button className=\"text-2xl mb-5 \" onClick={() => connectToWallet()}>{WalletConnected}</button>\n        <p className=\"border-black border-solid\trounded-sm border-2 text-3xl\t\"> Bank vault: {vault} </p>\n        <p className=\"border-black border-solid rounded-sm border-2\tmy-5 text-3xl\t\"> your Amount: {userAssets} </p>\n        <p className=\"border-black border-solid rounded-sm border-2 mb-1\ttext-3xl\t\"> Da tokens(yieldToken): {yieldToken} </p>\n\n        <div className=\"flex space-x-5 \">\n        <form onSubmit={deposit}>\n          <label className=\"text-3xl\">\n            Deposit:\n            <input className=\"text-center\"\n              type=\"number\"\n              name=\"depositAmount\"\n              value={depositAmount}\n              onChange={(e) => setDepositAmount(e.target.value)}\n            />\n          </label>\n          <input type=\"submit\" value=\"Submit\" />\n        </form>\n\n        <form onSubmit={withdraw}>\n          <label className=\"text-3xl\">\n            Withdrawal:\n            <input className=\"text-center\"\n              type=\"number\"\n              name=\"withdrawalAmount\"\n              value={withdrawAmount}\n              onChange={(e) => setWithdrawAmount(e.target.value)}\n            />\n          </label>\n          <input type=\"submit\" value=\"Submit\" />\n        </form>\n        </div>\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}